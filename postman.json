{
  "info": {
    "name": "Bookstore API",
    "description": "API для управління книгами, авторами та видавництвами",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Books",
      "item": [
        {
          "name": "GET - Get all books",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8000/api/books/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "books", ""]
            }
          },
          "response": []
        },
        {
          "name": "POST - Create new book",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Гаррі Поттер і філософський камінь\",\n  \"description\": \"Перша книга серії про Гаррі Поттера\",\n  \"price\": 299.99,\n  \"author\": 1,\n  \"publisher\": 1\n}"
            },
            "url": {
              "raw": "http://localhost:8000/api/books/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "books", ""]
            }
          },
          "response": []
        },
        {
          "name": "GET - Get book by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8000/api/books/1/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "books", "1", ""]
            }
          },
          "response": []
        },
        {
          "name": "PUT - Update book",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Гаррі Поттер і філософський камінь (оновлена)\",\n  \"description\": \"Оновлений опис книги\",\n  \"price\": 349.99,\n  \"author\": 1,\n  \"publisher\": 1\n}"
            },
            "url": {
              "raw": "http://localhost:8000/api/books/1/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "books", "1", ""]
            }
          },
          "response": []
        },
        {
          "name": "DELETE - Delete book",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "http://localhost:8000/api/books/1/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "books", "1", ""]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Authors",
      "item": [
        {
          "name": "GET - Get all authors",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8000/api/authors/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "authors", ""]
            }
          },
          "response": []
        },
        {
          "name": "POST - Create new author",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Джоан Роулінг\",\n  \"biography\": \"Англійська письменниця, авторка серії про Гаррі Поттера\"\n}"
            },
            "url": {
              "raw": "http://localhost:8000/api/authors/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "authors", ""]
            }
          },
          "response": []
        },
        {
          "name": "GET - Get author by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8000/api/authors/1/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "authors", "1", ""]
            }
          },
          "response": []
        },
        {
          "name": "PUT - Update author",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Джоан Роулінг (оновлено)\",\n  \"biography\": \"Оновлена біографія автора\"\n}"
            },
            "url": {
              "raw": "http://localhost:8000/api/authors/1/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "authors", "1", ""]
            }
          },
          "response": []
        },
        {
          "name": "DELETE - Try delete author with books (should fail)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "http://localhost:8000/api/authors/1/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "authors", "1", ""]
            }
          },
          "response": []
        },
        {
          "name": "DELETE - Delete author without books (should work)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "http://localhost:8000/api/authors/2/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "authors", "2", ""]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Publishers",
      "item": [
        {
          "name": "GET - Get all publishers",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8000/api/publishers/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "publishers", ""]
            }
          },
          "response": []
        },
        {
          "name": "POST - Create new publisher",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"А-БА-БА-ГА-ЛА-МА-ГА\",\n  \"address\": \"Київ, Україна\"\n}"
            },
            "url": {
              "raw": "http://localhost:8000/api/publishers/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "publishers", ""]
            }
          },
          "response": []
        },
        {
          "name": "GET - Get publisher by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8000/api/publishers/1/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "publishers", "1", ""]
            }
          },
          "response": []
        },
        {
          "name": "PUT - Update publisher",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"А-БА-БА-ГА-ЛА-МА-ГА (оновлено)\",\n  \"address\": \"Київ, Україна - оновлена адреса\"\n}"
            },
            "url": {
              "raw": "http://localhost:8000/api/publishers/1/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "publishers", "1", ""]
            }
          },
          "response": []
        },
        {
          "name": "DELETE - Try delete publisher with books (should fail)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "http://localhost:8000/api/publishers/1/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "publishers", "1", ""]
            }
          },
          "response": []
        },
        {
          "name": "DELETE - Delete publisher without books (should work)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "http://localhost:8000/api/publishers/2/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "publishers", "2", ""]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Test Scenarios",
      "item": [
        {
          "name": "Complete CRUD Flow",
          "item": [
            {
              "name": "1. Create Author",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Стівен Кінг\",\n  \"biography\": \"Американський письменник жахів\"\n}"
                },
                "url": {
                  "raw": "http://localhost:8000/api/authors/",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8000",
                  "path": ["api", "authors", ""]
                }
              },
              "response": []
            },
            {
              "name": "2. Create Publisher",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Книжковий клуб\",\n  \"address\": \"Львів, Україна\"\n}"
                },
                "url": {
                  "raw": "http://localhost:8000/api/publishers/",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8000",
                  "path": ["api", "publishers", ""]
                }
              },
              "response": []
            },
            {
              "name": "3. Create Book",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"title\": \"Воно\",\n  \"description\": \"Роман жахів про клоуна Пеннівайза\",\n  \"price\": 350.00,\n  \"author\": 1,\n  \"publisher\": 1\n}"
                },
                "url": {
                  "raw": "http://localhost:8000/api/books/",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8000",
                  "path": ["api", "books", ""]
                }
              },
              "response": []
            },
            {
              "name": "4. Try to Delete Author (should fail)",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "http://localhost:8000/api/authors/1/",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8000",
                  "path": ["api", "authors", "1", ""]
                }
              },
              "response": []
            },
            {
              "name": "5. Delete Book",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "http://localhost:8000/api/books/1/",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8000",
                  "path": ["api", "books", "1", ""]
                }
              },
              "response": []
            },
            {
              "name": "6. Now Delete Author (should work)",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "http://localhost:8000/api/authors/1/",
                  "protocol": "http",
                  "host": ["localhost"],
                  "port": "8000",
                  "path": ["api", "authors", "1", ""]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Protection Test - Delete with existing books",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "http://localhost:8000/api/authors/1/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "8000",
              "path": ["api", "authors", "1", ""]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000/api",
      "type": "string"
    }
  ]
}